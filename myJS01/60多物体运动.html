<!DOCTYPE html>
<!-- 多物体运动 之 多个div变宽+缓冲运动 -->
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Document</title>
        <style>
            div {width: 100px;height: 50px;background: red;margin: 10px; }
        </style>
        <script>
            window.onload=function()
            {
                var oDiv = document.getElementsByTagName("div");
                for(var i=0;i<oDiv.length;i++)
                {
                    oDiv[i].timer = null; //给物体加自定义属性
                    oDiv[i].onmouseover=function()
                    {
                        //传入this以判断该让哪个物体运动
                        startMove(this,400);
                    }
                    oDiv[i].onmouseout=function()
                    {
                        startMove(this,100);
                    }
                }
            }
            
            
            function startMove(obj,iTarget)
            {
                //每个物体必须设定独立定时器 否则会出错 以 obj.定时器 来确定
                clearInterval(obj.timer);
                obj.timer=setInterval(function(){
                    var speed = (iTarget - obj.offsetWidth)/6;
                    speed=speed>0?Math.ceil(speed):Math.floor(speed);//缓冲运动速度必须取整

                    if(obj.offsetWidth==iTarget)
                    {
                        clearInterval(obj.timer);
                    }
                    else
                    {
                        obj.style.width=obj.offsetWidth+speed+'px';
                    }

                },30);
            }
        </script>
    </head>
    <body>
        <div></div>
        <div></div>
        <div></div>
    </body>
</html>